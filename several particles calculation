import numpy as np

filename = 'C:/Users/17.3 Active Systems/Desktop/example2.txt'
displ_file = 'C:/Users/17.3 Active Systems/Desktop/calculation/displ.txt'

with open(filename, 'r') as file:
    lines = file.readlines()

coords = []

for line in lines:
    values = line.strip().split()
    converted_values = [float(value) for value in values]
    coords.append(converted_values)

file.close()

coords =np.array(coords)
#print(coords)
rows_number = coords.shape[0]
columns_number = coords.shape[1]


# Calculating displacements
def calculate_displacement(x1, x2):
    return abs(x2 - x1)

def calculate_displacements(column):
    displacements = []
    for i in range(columns_number - 1):
        x1 = column[i]
        x2 = column[i + 1]
        displacement = calculate_displacement(x1, x2) * Scale #in [mkm]
        displacements.append(displacement)
    return displacements

for i in range(columns_number):
    current_column = [row[i] for row in coords] #reading data from every column
#    print(current_column)
    displacements = calculate_displacements(current_column)# Calculate displacements between neighboring points
#    print(displacements)
    with open(displ_file, 'a') as result_file1:
       for displacement in displacements:
          result_file1.write(''.join(str(displacement)))
          result_file1.write('\n')

result_file1.close()
